<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Khulafaur Rasyidin — Sejarah Peradaban Islam</title>
 
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
 
<style>
:root{
  --gold: #d4af37;
  --green-dark: #063a2f;
  --green-deep: #031b14;
  --green-mid: #0b6b4b;
  --text: #e0e0e0;
  --card-bg: rgba(6, 58, 47, 0.45);
  --border: rgba(212, 175, 55, 0.15);
  --radius: 16px;
}
 
/* Reset & Basic */
*{box-sizing:border-box}
html{scroll-behavior: smooth;}
body{
  margin:0;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(180deg, var(--green-dark) 0%, var(--green-deep) 100%);
  color: var(--text);
  line-height: 1.7;
  overflow-x: hidden;
}
 
h1, h2, h3, h4 { font-family: "Cinzel", serif; color: var(--gold); margin-top: 0; }
/* Fluid Typography */
h2 { font-size: clamp(2rem, 5vw, 3rem); } 
h3 { font-size: clamp(1.4rem, 4vw, 2rem); }
h4 { color: #fff; font-size: 1.2rem; margin-bottom: 12px; border-left: 3px solid var(--gold); padding-left: 12px; }
p { margin-bottom: 1.2em; }
ul { margin-bottom: 1.2em; padding-left: 20px; }
li { margin-bottom: 8px; }
 
/* --- NAVBAR STYLES --- */
nav {
  position:fixed; left:0; right:0; top:0;
  display:flex; 
  align-items:center; 
  justify-content: space-between; 
  padding: 0 30px;
  background: rgba(3, 27, 20, 0.95);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
  z-index: 100;
  transition: all 0.3s ease;
  height: 70px;
}
nav h1{ margin:0; font-size: 1.125rem; letter-spacing: 1px; }
 
/* Hamburger Menu Icon (Hidden on Desktop) */
.nav-toggle {
  display: none; /* Default hidden */
  flex-direction: column;
  gap: 5px;
  cursor: pointer;
  padding: 8px;
}
.nav-toggle span {
  width: 25px; height: 3px;
  background: var(--gold);
  border-radius: 2px;
  transition: all 0.3s ease;
}
/* Animasi Hamburger menjadi X */
.nav-toggle.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 6px); }
.nav-toggle.active span:nth-child(2) { opacity: 0; }
.nav-toggle.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -6px); }
 
.nav-links-container {
  display: flex;
  gap: 30px;
  align-items: center;
}
 
.nav-links { 
  display:flex; 
  gap: 20px;
  align-items: center;
}
 
.nav-links a {
  color: var(--text); 
  text-decoration:none; 
  font-size: 0.875rem; 
  transition: color 0.3s;
  padding: 5px 0;
  position: relative;
  white-space: nowrap;
}
.nav-links a:hover{ color: var(--gold); }
 
/* Utility Links Decoration */
.nav-utility a { font-weight: 600; color: rgba(255, 255, 255, 0.6); font-family: 'Cinzel', serif; }
.nav-utility a:hover { color: var(--gold); }
.nav-utility a::after {
  content: ''; position: absolute; bottom: -5px; left: 0;
  width: 100%; height: 2px; background-color: var(--gold);
  transform: scaleX(0); transition: transform 0.3s ease;
}
.nav-utility a:hover::after { transform: scaleX(1); }
 

/* --- RESPONSIVE NAVBAR (Mobile Logic - Tampilan Grid) --- */
@media (max-width: 960px) {
  nav { padding: 0 20px; }
  
  .nav-toggle { display: flex; } 

  .nav-links-container {
      position: fixed;
      top: 70px; left: 0; right: 0;
      /* Batasi tinggi container agar sisa layar bisa di-scroll jika perlu */
      max-height: calc(100vh - 70px); 
      overflow-y: auto; /* Jaga-jaga jika layar HP sangat pendek */
      
      background: rgba(3, 27, 20, 0.98);
      border-bottom: 1px solid var(--border);
      
      flex-direction: column;
      align-items: stretch; /* Agar lebar penuh */
      padding: 20px;
      gap: 25px;
      
      transform: translateY(-150%);
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  .nav-links-container.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
  }

  /* UTILITY LINKS (Home, Timeline, Peta) - Tetap Baris tapi dipusatkan */
  .nav-utility { 
      order: 1; 
      display: flex;
      flex-direction: row; /* Jejer ke samping */
      justify-content: center;
      gap: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3); /* Garis pemisah gold */
  }

  /* CONTENT LINKS (Bab 1-9) - JADI GRID */
  .nav-content { 
      order: 2; 
      display: grid;
      grid-template-columns: 1fr 1fr; /* 2 Kolom */
      gap: 10px;
      width: 100%;
  }

  /* Styling Tombol Grid */
  .nav-content a {
      font-size: 0.9rem;
      text-align: center;
      padding: 12px 5px;
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px;
      background: rgba(255,255,255,0.03);
      transition: all 0.2s ease;
      white-space: normal; /* Agar teks panjang bisa turun baris */
      line-height: 1.3;
  }

  /* Efek Hover di HP */
  .nav-content a:active, .nav-content a:hover {
      background: rgba(212, 175, 55, 0.15);
      border-color: var(--gold);
      color: var(--gold);
      transform: scale(0.98);
  }

  /* Utility links styling override */
  .nav-utility a {
      font-size: 1rem;
      padding: 5px;
  }

    
    /* Order utility links to bottom on mobile */
    .nav-utility { order: 2; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; margin-top: 10px; }
    .nav-content { order: 1; }
}
 
/* --- HERO & LAYOUT --- */
.page-header{
  padding: 140px 20px 60px;
  text-align: center;
  max-width: 900px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}
.page-header h2{ margin-bottom: 16px; text-shadow: 0 4px 15px rgba(0,0,0,0.5); }
.page-header p{ font-size: 1.1rem; opacity: 0.9; }
 
.section{
  padding: 80px 20px;
  position: relative;
  overflow: hidden; 
}
.section-inner{
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: flex-start;
  gap: 50px;
  flex-wrap: wrap;
  position: relative;
  z-index: 2;
}
 
/* Divider Style */
.divider {
  width: 60%; max-width: 800px; height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold) 20%, var(--gold) 80%, transparent);
  margin: 0 auto; opacity: 0.5; position: relative;
}
.divider::after {
  content: ''; position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%); width: 10px; height: 10px;
  background-color: var(--gold); border-radius: 50%; box-shadow: 0 0 8px var(--gold);
}
 
/* Content Cards */
.text-content{ flex: 1 1 550px; } /* Basis lebar text */
.text-card{
  background: var(--card-bg);
  border: 1px solid var(--border);
  padding: 40px;
  border-radius: var(--radius);
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
  position: relative;
  backdrop-filter: blur(5px);
}
.text-card::before {
  content: ''; position: absolute; top:0; left:0; right:0; height: 4px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0.5;
}
 
.sub-section { margin-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 20px; }
.sub-section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
 
.lesson-table {
width: 100%;
border-collapse: collapse;
margin-top: 20px;
}
.lesson-table th, .lesson-table td {
padding: 10px 15px;
border: 1px solid rgba(255, 255, 255, 0.1);
text-align: left;
}
.lesson-table th {
background-color: var(--green-mid);
color: #fff;
font-weight: 700;
font-family: 'Cinzel', serif;
}
.lesson-table tr:nth-child(even) {
background-color: rgba(0, 0, 0, 0.1);
}
 
/* Image Box */
.img-box{
  flex: 0 0 400px;
  position: sticky;
  top: 100px;
  transition: all 0.3s;
}
.img-frame{
  width: 100%; border-radius: var(--radius); overflow: hidden;
  box-shadow: 0 15px 30px rgba(0,0,0,0.5);
  border: 1px solid var(--border); background: #000;
}
.img-frame img{
  width: 100%; height: auto; display: block;
  opacity: 0.8; transition: opacity 0.5s;
}
.img-caption {
  font-size: 0.85rem; color: rgba(255,255,255,0.5); 
  margin-top: 10px; text-align: center; font-style: italic;
}
 
.row { display: flex; gap: 50px; width: 100%; }
.row.rev { flex-direction: row-reverse; }
 
/* Animations */
.reveal {
  opacity: 0; transform: translateY(40px);
  transition: all 1s cubic-bezier(0.2, 1, 0.3, 1);
}
.reveal.active { opacity: 1; transform: translateY(0); }
 
/* --- RESPONSIVE LAYOUT (Content) --- */
@media (max-width: 960px){
  .row, .row.rev { flex-direction: column; }
  .img-box { 
      flex: auto; width: 100%; 
      position: static; 
      margin-bottom: 40px; 
  }
  .text-content { order: 2; width: 100%; flex: auto; }
  .img-box { order: 1; }
  .text-card { padding: 25px; }
}
 
@media (max-width: 600px){
  .section { padding: 60px 15px; }
  .page-header { padding: 120px 15px 40px; }
  h2 { font-size: 2rem; }
}
</style>
</head>
<body>
 
<nav>
  <h1>Sejarah Peradaban Islam</h1>
  
  <div class="nav-toggle" id="navToggle">
      <span></span>
      <span></span>
      <span></span>
  </div>
 
  <div class="nav-links-container" id="navLinks">
      <div class="nav-links nav-utility">
          <a href="index.html#home">Home</a>
          <a href="timeline.html">Timeline</a>
          <a href="index.html#peta">Peta</a>
      </div>
  
      <div class="nav-links nav-content">
        <a href="#section-1">1. Abu Bakar</a>
        <a href="#section-2">2. Umar</a>
        <a href="#section-3">3. Utsman</a>
        <a href="#section-4">4. Ali</a>
      </div>
  </div>
</nav>
 
<header id="home" class="page-header reveal">
  <p style="color:var(--gold); font-weight:600; letter-spacing:2px; margin-bottom:10px;">BAGIAN D</p>
  <h2>Khulafaur Rasyidin (11 – 40 H)</h2>
  <p>Era kepemimpinan empat sahabat utama: Penyelamatan akidah, ekspansi global, kodifikasi Al-Qur'an, dan ujian internal umat.</p>
</header>
 
<section id="section-1" class="section">
  <div class="section-inner row">
    <div class="text-content reveal">
      <div class="text-card">
        <h3>1. Abu Bakar Ash-Shiddiq (11-13 H)</h3>
        
        <div class="sub-section">
          <h4>A. Krisis Saqifah & Penyelamatan Akidah</h4>
          <p>Wafatnya Rasulullah ﷺ adalah guncangan terbesar. Di Balai Saqifah Bani Sa'idah, potensi perpecahan Muhajirin dan Anshar berhasil diredam dengan terpilihnya Abu Bakar. Pidato pertamanya menjadi landasan politik Islam: <em>"Jika aku benar, bantulah aku. Jika aku salah, luruskanlah aku."</em></p>
        </div>
 
        <div class="sub-section">
          <h4>B. Perang Riddah (Harb al-Riddah)</h4>
          <p>Tantangan utama adalah gerakan <strong>Apostasi (Murtad)</strong> massal. Suku-suku Arab menolak membayar zakat dan muncul nabi-nabi palsu seperti Musailamah al-Kazzab.</p>
          <p>Abu Bakar mengambil sikap tegas: <em>"Demi Allah, jika mereka menolak menyerahkan seutas tali unta yang dulu mereka serahkan pada Rasulullah, aku akan perangi mereka."</em> Perang Yamamah menjadi puncak kemenangan Muslim melawan 40.000 pasukan Musailamah.</p>
        </div>
 
        <div class="sub-section">
          <h4>C. Kodifikasi Al-Qur'an Pertama</h4>
          <p>Banyaknya penghafal Al-Qur'an (Huffadz) yang syahid di Yamamah (sekitar 70 orang) membuat Umar bin Khattab khawatir. Ia mendesak Abu Bakar untuk mengumpulkan Al-Qur'an.</p>
          <p>Zaid bin Tsabit ditunjuk memimpin proyek raksasa ini: mengumpulkan tulisan dari pelepah kurma, tulang, dan hafalan para sahabat menjadi satu mushaf yang utuh. Ini adalah warisan terbesar Abu Bakar bagi peradaban.</p>
        </div>
      </div>
    </div>
    <div class="img-box reveal">
      <div class="img-frame">
        <img src="Mohammad_adil-Riddah_wars.png" alt="Peta Perang Riddah">
      </div>
      <div class="img-caption">Peta Perang Riddah: Operasi militer untuk menyatukan kembali Jazirah Arab yang terpecah pasca wafatnya Nabi.</div>
    </div>
  </div>
</section>
 
<div class="divider reveal"></div>
 
<section id="section-2" class="section">
  <div class="section-inner row rev">
    <div class="text-content reveal">
      <div class="text-card">
        <h3>2. Umar bin Khattab (13-23 H)</h3>
        
        <div class="sub-section">
          <h4>A. Al-Faruq & Runtuhnya Dua Kekaisaran</h4>
          <p>Di bawah Umar, Islam bertransformasi menjadi kekuatan global. Ia memerintahkan ekspansi untuk membebaskan rakyat dari tirani Romawi dan Persia.</p>
          <ul>
            <li><strong>Perang Yarmuk (15 H):</strong> Pasukan Khalid bin Walid melumpuhkan Romawi Bizantium, membuka gerbang ke Syam dan Palestina.</li>
            <li><strong>Perang Qadisiyah (16 H):</strong> Sa'ad bin Abi Waqqash meruntuhkan Kekaisaran Persia Sassanid, merebut ibu kota Ctesiphon.</li>
          </ul>
        </div>
 
        <div class="sub-section">
          <h4>B. Administrasi Negara Modern</h4>
          <p>Umar adalah arsitek pemerintahan Islam. Ia meletakkan dasar administrasi yang belum pernah ada di Arab:</p>
          <ul>
            <li><strong>Diwan:</strong> Pencatatan sensus tentara dan pegawai untuk gaji.</li>
            <li><strong>Kalender Hijriah:</strong> Menetapkan hijrah Nabi sebagai awal tahun.</li>
            <li><strong>Baitul Mal:</strong> Kas negara untuk jaminan sosial fakir miskin (termasuk non-muslim).</li>
            <li><strong>Pemisahan Kekuasaan:</strong> Memisahkan lembaga yudikatif (Qadhi) dari eksekutif (Gubernur).</li>
          </ul>
        </div>
 
        <div class="sub-section">
          <h4>C. Penaklukan Yerusalem (Baitul Maqdis)</h4>
          <p>Umar masuk ke Yerusalem tanpa darah. Ia menjamin keamanan gereja dan jiwa penduduk Kristen melalui <em>Perjanjian Umariyyah</em>, sebuah contoh toleransi beragama yang agung.</p>
        </div>
      </div>
    </div>
    <div class="img-box reveal">
      <div class="img-frame">
         <img src="640px-Grands_conquerants_-_Omar,_le_2eme_calife,_prenant_en_personne_possession_de_Jerusalem_l'an_638_de_l'ere_chretienne.jpg" alt="Ekspansi Wilayah Era Umar">
      </div>
      <div class="img-caption">Era Umar bin Khattab: Islam meluas dari Mesir hingga Persia, meruntuhkan hegemoni dua kekaisaran kuno.</div>
    </div>
  </div>
</section>
 
<div class="divider reveal"></div>
 
<section id="section-3" class="section">
  <div class="section-inner row">
    <div class="text-content reveal">
      <div class="text-card">
        <h3>3. Utsman bin Affan (23-35 H)</h3>
        
        <div class="sub-section">
          <h4>A. Ekspansi Maritim & Kemakmuran</h4>
          <p>Utsman, <em>Dzin Nurain</em>, melanjutkan ekspansi hingga ke Armenia, Tunisia, dan Cyprus. Untuk pertama kalinya, atas usul Muawiyah, Islam memiliki <strong>Angkatan Laut</strong> yang tangguh untuk menghadapi Romawi di Laut Tengah (Perang Dzatus Sawari).</p>
        </div>
 
        <div class="sub-section">
          <h4>B. Kodifikasi Mushaf Utsmani</h4>
          <p>Meluasnya wilayah Islam menyebabkan perbedaan dialek (Lahjah) dalam membaca Al-Qur'an yang memicu perdebatan. Utsman mengambil langkah berani:</p>
          <p>Ia meminjam suhuf dari Hafshah binti Umar, lalu menyalinnya menjadi standar tunggal (Mushaf Imam) dengan dialek Quraisy. Mushaf lain yang berbeda dibakar demi persatuan umat. Al-Qur'an yang kita baca hari ini adalah warisan standarisasi Utsman.</p>
        </div>
 
        <div class="sub-section">
          <h4>C. Fitnah Pertama & Syahidnya Khalifah</h4>
          <p>Paruh kedua pemerintahannya diwarnai nepotisme pejabat dan hasutan dari pihak oposisi (seperti Abdullah bin Saba'). Fitnah membesar menjadi pemberontakan. Rumah Utsman dikepung selama 40 hari. Beliau syahid dibunuh saat sedang membaca Al-Qur'an, meneteskan darah di atas mushafnya.</p>
        </div>
      </div>
    </div>
    <div class="img-box reveal">
      <div class="img-frame">
         <img src="Ortografi-Mushaf-Utsmani-696x392-1.webp" alt="Manuskrip Mushaf Utsmani">
      </div>
      <div class="img-caption">Mushaf Utsmani: Langkah visioner Utsman menyatukan umat Islam dalam satu standar bacaan kitab suci.</div>
    </div>
  </div>
</section>
 
<div class="divider reveal"></div>
 
<section id="section-4" class="section">
  <div class="section-inner row rev">
    <div class="text-content reveal">
      <div class="text-card">
        <h3>4. Ali bin Abi Thalib (35-40 H)</h3>
        
        <div class="sub-section">
          <h4>A. Menerima Jabatan di Masa Krisis</h4>
          <p>Ali dibaiat dalam kondisi Madinah yang mencekam pasca pembunuhan Utsman. Prioritas Ali adalah stabilitas negara dengan memecat gubernur korup, namun tuntutan <em>Qishash</em> (balas dendam) atas darah Utsman menjadi isu politik yang memecah belah.</p>
        </div>
 
        <div class="sub-section">
          <h4>B. Perang Jamal (Perang Unta)</h4>
          <p>Terjadi kesalahpahaman antara pihak Ali dengan Aisyah, Thalhah, dan Zubair. Awalnya damai, namun provokator menyulut api di malam hari. Terjadilah perang saudara pertama. Ali memenangkan perang ini dengan penuh adab; ia memaafkan Aisyah dan mengawalnya kembali ke Madinah dengan hormat.</p>
        </div>
 
        <div class="sub-section">
          <h4>C. Perang Shiffin & Arbitrase (Tahkim)</h4>
          <p>Konflik berlanjut melawan Muawiyah bin Abu Sufyan (Gubernur Syam) di Shiffin. Saat pasukan Ali hampir menang, pihak Muawiyah mengangkat Al-Qur'an di ujung tombak meminta damai.</p>
          <p>Terjadi <strong>Tahkim</strong> (Arbitrase) yang berakhir tidak memuaskan. Kelompok yang kecewa memisahkan diri menjadi <strong>Khawarij</strong>, yang menganggap Ali dan Muawiyah kafir.</p>
        </div>
 
        <div class="sub-section">
          <h4>D. Akhir Khulafaur Rasyidin</h4>
          <p>Ali bin Abi Thalib syahid ditikam oleh Abdurrahman bin Muljam (seorang Khawarij) saat shalat Subuh di Kufa. Dengan wafatnya Ali, berakhirlah era Khulafaur Rasyidin dan dimulainya sistem monarki (Daulah Umayyah).</p>
        </div>
      </div>
    </div>
    <div class="img-box reveal">
      <div class="img-frame">
         <img src="1593521838.webp" alt="Kaligrafi Ali bin Abi Thalib">
      </div>
      <div class="img-caption">Masa Ali bin Abi Thalib: Periode ujian terberat persatuan umat (Fitnah Kubra) dan transisi politik.</div>
    </div>
  </div>
</section>
 
<div class="divider reveal"></div>
 
<section class="section">
  <div class="section-inner" style="justify-content:center;">
    <div class="text-content reveal" style="max-width:900px;">
      <div class="text-card">
        <h3>Kesimpulan: Warisan Empat Khalifah</h3>
        <p>Masa 30 tahun Khulafaur Rasyidin adalah masa keemasan implementasi nilai Islam dalam bernegara. Setiap khalifah memberikan kontribusi unik:</p>
 
        <table class="lesson-table">
          <thead>
            <tr>
              <th>Khalifah</th>
              <th>Warisan & Kontribusi Utama</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Abu Bakar</strong></td>
              <td>Menyelamatkan Islam dari kepunahan (Perang Riddah) & Pengumpulan Mushaf awal.</td>
            </tr>
            <tr>
              <td><strong>Umar bin Khattab</strong></td>
              <td>Ekspansi global (Persia & Romawi), Administrasi Negara (Diwan, Hijriah), & Keadilan Hukum.</td>
            </tr>
            <tr>
              <td><strong>Utsman bin Affan</strong></td>
              <td>Standarisasi Al-Qur'an (Mushaf Utsmani), Pembangunan Angkatan Laut, & Kemakmuran Ekonomi.</td>
            </tr>
            <tr>
              <td><strong>Ali bin Abi Thalib</strong></td>
              <td>Pengembangan Ilmu Bahasa (Nahwu), Penataan kota Kufa, & Teladan keteguhan dalam fitnah.</td>
            </tr>
          </tbody>
        </table>
 
        <div style="margin-top:30px; font-family:'Cinzel', serif; color:var(--gold); text-align: center;">
          — Berakhirnya Era Khulafaur Rasyidin & Awal Dinasti Umayyah —
        </div>
      </div>
    </div>
  </div>
</section>
 
<footer>
  <p style="text-align:center; padding: 20px 0; font-size: 0.85rem; color: rgba(255,255,255,0.4);">&copy; Sejarah Peradaban Islam - Khulafaur Rasyidin</p>
</footer>
 
<script>
document.addEventListener("DOMContentLoaded", function() {
 
  // --- 1. LOGIKA MENU MOBILE (HAMBURGER) ---
  const navToggle = document.getElementById('navToggle');
  const navLinks = document.getElementById('navLinks');
 
  if(navToggle && navLinks) {
      navToggle.addEventListener('click', function(){
          navToggle.classList.toggle('active');
          navLinks.classList.toggle('active');
      });
      
      navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', function(){
              navToggle.classList.remove('active');
              navLinks.classList.remove('active');
          });
      });
 
      document.addEventListener('click', function(event){
          if (!navLinks.contains(event.target) && !navToggle.contains(event.target) && navLinks.classList.contains('active')) {
              navToggle.classList.remove('active');
              navLinks.classList.remove('active');
          }
      });
  }
 
  // --- 2. INTERSECTION OBSERVER FOR ANIMATION ---
  const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.15 
  };
 
  const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
          if (entry.isIntersecting) {
              entry.target.classList.add('active');
              observer.unobserve(entry.target);
          }
      });
  }, observerOptions);
 
  const revealElements = document.querySelectorAll('.reveal');
  revealElements.forEach(el => observer.observe(el));
 
  // --- 3. SMOOTH SCROLL ---
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
          const href = this.getAttribute('href');
          if(href.startsWith('#') && href.length > 1) {
              const targetEl = document.querySelector(href);
              if(targetEl) {
                  e.preventDefault();
                  const headerOffset = 80;
                  const elementPosition = targetEl.getBoundingClientRect().top;
                  const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
 
                  window.scrollTo({
                      top: offsetPosition,
                      behavior: "smooth"
                  });
              }
          }
      });
  });
});
</script>
 
</body>
</html>